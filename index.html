<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>오세훈-명태균 사건 타임라인</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    /* 모바일 대응 스타일 */
    @media (max-width: 768px) {
      .timeline-container {
        padding: 0 15px;
        position: relative;
      }

      .timeline-center-line {
        left: 30px !important;
        transform: none !important;
        width: 2px !important;
      }

      .timeline-item {
        width: 100% !important;
        margin-left: 0 !important;
        margin-right: 0 !important;
        padding-left: 50px !important;
        position: relative;
      }

      .timeline-marker {
        left: 0 !important;
        position: absolute;
        top: 0;
        transform: none !important;
        margin-left: 15px !important;
      }

      .timeline-content {
        width: 100% !important;
        margin-left: 0 !important;
        margin-right: 0 !important;
        text-align: left !important;
        padding-right: 15px;
      }

      .timeline-content.odd,
      .timeline-content.even {
        margin-left: 0 !important;
        margin-right: 0 !important;
        text-align: left !important;
      }
    }

    @media (max-width: 640px) {
      body {
        font-size: 14px;
      }

      .max-w-4xl {
        max-width: 100%;
        padding: 10px;
      }

      h1 {
        font-size: 1.5rem;
      }
    }
  </style>
</head>
<body class="bg-gray-100">
  <div class="max-w-4xl mx-auto p-4 bg-white rounded-lg shadow my-8">
    <h1 class="text-2xl font-bold mb-6 text-center">한눈에 보는 오세훈-명태균 사건 타임라인</h1>
    
    <div class="flex mb-6 gap-4 justify-center flex-wrap">
      <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800 border border-blue-400">
        🗳️ 선거 일정
      </span>
      <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800 border border-red-400">
        👥 명태균 관련
      </span>
      <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800 border border-yellow-400">
        💰 기타
      </span>
    </div>
    
    <div class="relative timeline-container">
      <!-- 중앙 세로선 -->
      <div class="absolute left-1/2 transform -translate-x-1/2 h-full w-1 bg-gray-200 timeline-center-line"></div>
    </div>
  </div>

  <script>
    // 타임라인 데이터 (전체 데이터 포함)
    const timelineData = [
      {
        date: "2021년 1월 초순",
        event: "오세훈-명태균 1차 회동",
        details: [
          "명태균, 김영선 의원 소개로 오세훈 후보 광진구 사무실 찾아옴",
          "명태균, 자신을 '여론조사 전문 컨설턴트'라고 소개",
          "이후 2차 회동 전까진 명태균이 오세훈 후보에 간헐적 연락"
        ],
        category: "명태균 관련"
      },
      {
        date: "2021년 1월 17일",
        event: "오세훈 후보, 출마선언(북서울꿈의숲)",
        details: [],
        category: "선거 일정"
      },
      {
        date: "2021년 1월 20일",
        event: "오세훈 후보, 서울시장 예비후보 등록",
        details: [
          "오세훈 후보, 국민의힘 당사에서 서울시장 예비후보 등록"
        ],
        category: "선거 일정"
      },
      {
        date: "2021년 1월 20일",
        event: "오세훈-명태균 2차 회동",
        details: [
          "오세훈 후보, 명태균에 \"오늘 저녁 6시반. 예약명:김00, 잠시 후에 뵙겠습니다\"라는 문자 발송",
          "광진구 중식당 '송쉐프'에서 오세훈·강철원·김영선·명태균 회동",
          "이때부터 명태균과의 연락 창구는 강철원 실장으로 일원화"
        ],
        category: "명태균 관련"
      },
      {
        date: "2021년 1월 22일",
        event: "국민의힘, 서울시장 보궐선거 경선일정 발표",
        details: [],
        category: "선거 일정"
      },
      {
        date: "2021년 1월 26일",
        event: "국민의힘, 예비경선 진출자 8인 선출",
        details: [
          "오세훈, 김근식, 김선동, 나경원, 오신환, 이종구, 조은희"
        ],
        category: "선거 일정"
      },
      {
        date: "2021년 1월 하순",
        event: "오세훈 캠프 내에서 '명태균 여론조사' 회의론 대두",
        details: [
          "명태균, 강철원 실장에 테스트용 여론조사 결과 제공",
          "오세훈 캠프, 명태균 여론조사서 '샘플 부풀리기' 등 부정 정황 포착",
          "오세훈 캠프, 명태균에 'Raw Data' 확인 요구했으나 명태균은 반발",
          "강철원 실장, 경제학 박사이자 여의도연구원 부원장 역임한 이창근 공보단장에 정밀 분석 지시",
          "이창근 공보단장, 명태균의 부정 수법 오세훈 후보에 직보"
        ],
        category: "명태균 관련"
      },
      {
        date: "2021년 1월 하순",
        event: "오세훈 캠프, 명태균에 1차 단절 통보",
        details: [
          "강철원 실장, '테스트용 여론조사 문제점' 지적하며 거래 불가 통보",
          "명태균, 2월 중순까지 강철원 실장에게 여론조사 관련 지속 연락",
          "이 시기 명태균-김한정 연결 본격화",
          "\"여론조사를 캠프로 들고 왔더니 이상한 사람 취급받길래 연락처를 물었다. 동향(창원) 출신이라니 반가워서 밥값, 옷값 하라며 용돈을 줬다.\" (김한정 한국일보 인터뷰)"
        ],
        category: "명태균 관련"
      },
      {
        date: "2021년 2월 1일",
        event: "김한정 → 미래한국연구소 1,000만원 송금",
        details: [],
        category: "기타"
      },
      {
        date: "2021년 2월 3~4일",
        event: "국민의힘, 예비경선 후보자 여론조사 실시",
        details: [
          "책임당원20% 일반시민 80%"
        ],
        category: "선거 일정"
      },
      {
        date: "2021년 2월 5일",
        event: "국민의힘, 본경선 진출자 발표",
        details: [
          "오세훈, 나경원, 오신환, 조은희"
        ],
        category: "선거 일정",
        relatedEvents: [
          {
            title: "김한정 → 미래한국연구소 550만원 송금",
            details: [],
            category: "기타"
          }
        ]
      },
      {
        date: "2021년 2월 18일",
        event: "김한정 → 미래한국연구소 550만원 송금",
        details: [],
        category: "기타"
      },
      {
        date: "2021년 2월 20일경",
        event: "오세훈 캠프, 명태균에 2차 단절 통보",
        details: [
          "명태균, 김영선 전 의원과 함께 오세훈 캠프 방문",
          "오세훈 후보 \"왜 이런 걸 나한테 가져오냐\"며 격노",
          "'얼굴 뻘거스럽게 달아올라 캠프서 쫓겨났다'는 목격자 증언 존재",
          "당시 후보 방 따로 없고 칸막이 구조여서 다수가 들을 수 있는 구조",
          "※ 이후 오세훈 후보와 명태균 소통 단절"
        ],
        category: "명태균 관련"
      },
      {
        date: "2021년 2월 23일",
        event: "김한정 → 미래한국연구소 700만원 송금",
        details: [],
        category: "기타"
      },
      {
        date: "2021년 3월 4일",
        event: "오세훈 국민의힘 후보로 선출",
        details: [],
        category: "선거 일정"
      },
      {
        date: "2021년 3월 11일",
        event: "오세훈-안철수 야권 단일화 협상 시작",
        details: [],
        category: "선거 일정"
      },
      {
        date: "2021년 3월 21일",
        event: "오세훈-안철수 단일화 방식 합의",
        details: [
          "1600표본, 100% 국민여론조사",
          "KSOI, 입소스 진행, 무선 100%(안측 주장)",
          "적합도 50(오측 주장), 경쟁력 50(안측 주장)"
        ],
        category: "선거 일정"
      },
      {
        date: "2021년 3월 22일",
        event: "오세훈-안철수 단일화 여론조사 시작",
        details: [],
        category: "선거 일정"
      },
      {
        date: "2021년 3월 23일",
        event: "오세훈 야권 단일 후보로 최종 선출",
        details: [],
        category: "선거 일정"
      },
      {
        date: "2021년 3월 26일",
        event: "김한정 → 미래한국연구소 500만원 송금",
        details: [],
        category: "기타"
      },
      {
        date: "2021년 4월 7일",
        event: "오세훈 서울시장 당선",
        details: [],
        category: "선거 일정"
      }
    ];

    // 카테고리별 스타일 함수
    function getCategoryStyle(category) {
      switch(category) {
        case '선거 일정':
          return 'bg-blue-100 border-blue-400 text-blue-800';
        case '명태균 관련':
          return 'bg-red-100 border-red-400 text-red-800';
        case '기타':
          return 'bg-yellow-100 border-yellow-400 text-yellow-800';
        default:
          return 'bg-gray-100 border-gray-400 text-gray-800';
      }
    }

    // 카테고리별 아이콘 함수
    function getCategoryIcon(category) {
      switch(category) {
        case '선거 일정':
          return '🗳️';
        case '명태균 관련':
          return '👥';
        case '기타':
          return '💰';
        default:
          return '📅';
      }
    }

    // 타임라인 렌더링 함수
    function renderTimeline() {
      const container = document.querySelector('.timeline-container');
      const centerLine = container.querySelector('.timeline-center-line');
      
      // 기존 타임라인 아이템 제거 (중앙선 제외)
      const existingItems = container.querySelectorAll('.timeline-item');
      existingItems.forEach(item => item.remove());

      const isMobile = window.innerWidth <= 768;
      
      timelineData.forEach((item, index) => {
        const isEven = index % 2 === 0;
        
        // 타임라인 아이템 생성
        const timelineItem = document.createElement('div');
        timelineItem.className = 'relative mb-8 timeline-item';
        
        // 날짜 마커 생성
        const marker = document.createElement('div');
        marker.className = `absolute left-1/2 transform -translate-x-1/2 -mt-2 w-8 h-8 rounded-full bg-white border-4 z-10 flex items-center justify-center timeline-marker ${
          item.category === '선거 일정' ? 'border-blue-400' : 
          item.category === '명태균 관련' ? 'border-red-400' : 'border-yellow-400'
        }`;
        marker.innerHTML = getCategoryIcon(item.category);
